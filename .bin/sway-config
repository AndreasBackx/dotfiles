#!/usr/bin/env zsh

source ~/.config/.variables

function replace_monitors() {
    sed "s/\$MONITOR_LEFT/$MONITOR_LEFT/" $1 | \
    sed "s/\$MONITOR_CENTER/$MONITOR_CENTER/" | \
    sed "s/\$MONITOR_RIGHT/$MONITOR_RIGHT/" | \
    sed "s/\$MONITOR_LAPTOP/$MONITOR_LAPTOP/"
}

kanshi_config=~/.config/kanshi/config
waybar_config=~/.config/waybar/config

echo "# this file is autogenerated by ~/.bin/sway-config" > $kanshi_config
echo "" >> $kanshi_config
replace_monitors ~/.config/kanshi/config-template >> $kanshi_config

replace_monitors ~/.config/waybar/config-template > $waybar_config
sass ~/.config/waybar/style.scss ~/.config/waybar/style.css --no-source-map


